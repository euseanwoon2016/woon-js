/*! For license information please see main.bundle.js.LICENSE.txt */
(()=>{"use strict";var t,e={"./src/style.css":(t,e,n)=>{n.r(e)},"./src/Woon.ts":(t,e,n)=>{n.r(e),n.d(e,{Component:()=>s,default:()=>u,w:()=>c,Heading:()=>l});var r,o=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},s=function(){function t(t){this.props={},this.state={},this.onChange=function(){},this.props=t,this.state.props=t,this.init()}return t.prototype.init=function(){},t.prototype.setState=function(t,e){var n;return this.state=i(i({},this.state),((n={})[t]=e,n)),this.onChange(),this.state[t]},t.prototype.getState=function(t){return this.state[t]},t}();const u=function(){function t(t,e){var n=this;return this.entry=t,this.component=e,this.mountedElement=document.createElement("div"),this.entry.appendChild(this.mountedElement),Object.defineProperty(e,"onChange",{value:function(){n.render()},writable:!1}),this.render()}return t.prototype.render=function(){for(;this.mountedElement.firstChild;)this.mountedElement.removeChild(this.mountedElement.firstChild);return this.mountedElement.appendChild(this.component.build()),this},t}();function c(t){var e=t.tag,n=t.attributes,r=t.styles,o=t.text,i=t.children,u=t.events,c=document.createElement(e);return null!=o&&c.appendChild(document.createTextNode(o)),null!=n&&Object.keys(n).forEach((function(t){c.setAttribute(t,n[t])})),null!=r&&Object.keys(r).forEach((function(t){c.style[t]=r[t]})),null!=i&&i.forEach((function(t){t instanceof HTMLElement?c.appendChild(t):t instanceof s&&c.appendChild(t.build())})),null!=u&&Object.keys(u).forEach((function(t){c.addEventListener(t,(function(e){return u[t](e,c)}))})),c}var l=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.build=function(){return c({tag:"h"+this.props.level,text:this.props.text})},e}(s)},"./src/index.ts":(t,e,n)=>{n.r(e),n("./src/style.css");var r,o=n("./src/Woon.ts"),i=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){this.setState("who","world")},e.prototype.build=function(){return(0,o.w)({tag:"h1",text:"Hello "+this.getState("who")+"!"})},e}(o.Component);new o.default(document.querySelector("#app"),new s)}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var i=n[t]={exports:{}};return e[t](i,i.exports,r),i.exports}r.m=e,t=[],r.O=(e,n,o,i)=>{if(!n){var s=1/0;for(p=0;p<t.length;p++){for(var[n,o,i]=t[p],u=!0,c=0;c<n.length;c++)(!1&i||s>=i)&&Object.keys(r.O).every((t=>r.O[t](n[c])))?n.splice(c--,1):(u=!1,i<s&&(s=i));if(u){t.splice(p--,1);var l=o();void 0!==l&&(e=l)}}return e}i=i||0;for(var p=t.length;p>0&&t[p-1][2]>i;p--)t[p]=t[p-1];t[p]=[n,o,i]},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t={main:0,styles:0};r.O.j=e=>0===t[e];var e=(e,n)=>{var o,i,[s,u,c]=n,l=0;if(s.some((e=>0!==t[e]))){for(o in u)r.o(u,o)&&(r.m[o]=u[o]);if(c)var p=c(r)}for(e&&e(n);l<s.length;l++)i=s[l],r.o(t,i)&&t[i]&&t[i][0](),t[s[l]]=0;return r.O(p)},n=self.webpackChunktypescript_webpack=self.webpackChunktypescript_webpack||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();var o=r.O(void 0,["styles"],(()=>r("./src/index.ts")));o=r.O(o)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUksRUFBc0IvQyxFQUFvQlEsT0FBRUwsRUFBVyxDQUFDLFdBQVcsSUFBT0gsRUFBb0Isb0JBQ2xHK0MsRUFBc0IvQyxFQUFvQlEsRUFBRXVDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdHlwZXNjcmlwdC13ZWJwYWNrL3dlYnBhY2svcnVudGltZS9jaHVuayBsb2FkZWQiLCJ3ZWJwYWNrOi8vdHlwZXNjcmlwdC13ZWJwYWNrLy4vc3JjL1dvb24udHMiLCJ3ZWJwYWNrOi8vdHlwZXNjcmlwdC13ZWJwYWNrLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovL3R5cGVzY3JpcHQtd2VicGFjay93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly90eXBlc2NyaXB0LXdlYnBhY2svd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3R5cGVzY3JpcHQtd2VicGFjay93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3R5cGVzY3JpcHQtd2VicGFjay93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL3R5cGVzY3JpcHQtd2VicGFjay93ZWJwYWNrL3J1bnRpbWUvanNvbnAgY2h1bmsgbG9hZGluZyIsIndlYnBhY2s6Ly90eXBlc2NyaXB0LXdlYnBhY2svd2VicGFjay9zdGFydHVwIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBkZWZlcnJlZCA9IFtdO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5PID0gKHJlc3VsdCwgY2h1bmtJZHMsIGZuLCBwcmlvcml0eSkgPT4ge1xuXHRpZihjaHVua0lkcykge1xuXHRcdHByaW9yaXR5ID0gcHJpb3JpdHkgfHwgMDtcblx0XHRmb3IodmFyIGkgPSBkZWZlcnJlZC5sZW5ndGg7IGkgPiAwICYmIGRlZmVycmVkW2kgLSAxXVsyXSA+IHByaW9yaXR5OyBpLS0pIGRlZmVycmVkW2ldID0gZGVmZXJyZWRbaSAtIDFdO1xuXHRcdGRlZmVycmVkW2ldID0gW2NodW5rSWRzLCBmbiwgcHJpb3JpdHldO1xuXHRcdHJldHVybjtcblx0fVxuXHR2YXIgbm90RnVsZmlsbGVkID0gSW5maW5pdHk7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgZGVmZXJyZWQubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgW2NodW5rSWRzLCBmbiwgcHJpb3JpdHldID0gZGVmZXJyZWRbaV07XG5cdFx0dmFyIGZ1bGZpbGxlZCA9IHRydWU7XG5cdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBjaHVua0lkcy5sZW5ndGg7IGorKykge1xuXHRcdFx0aWYgKChwcmlvcml0eSAmIDEgPT09IDAgfHwgbm90RnVsZmlsbGVkID49IHByaW9yaXR5KSAmJiBPYmplY3Qua2V5cyhfX3dlYnBhY2tfcmVxdWlyZV9fLk8pLmV2ZXJ5KChrZXkpID0+IChfX3dlYnBhY2tfcmVxdWlyZV9fLk9ba2V5XShjaHVua0lkc1tqXSkpKSkge1xuXHRcdFx0XHRjaHVua0lkcy5zcGxpY2Uoai0tLCAxKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGZ1bGZpbGxlZCA9IGZhbHNlO1xuXHRcdFx0XHRpZihwcmlvcml0eSA8IG5vdEZ1bGZpbGxlZCkgbm90RnVsZmlsbGVkID0gcHJpb3JpdHk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmKGZ1bGZpbGxlZCkge1xuXHRcdFx0ZGVmZXJyZWQuc3BsaWNlKGktLSwgMSlcblx0XHRcdHZhciByID0gZm4oKTtcblx0XHRcdGlmIChyICE9PSB1bmRlZmluZWQpIHJlc3VsdCA9IHI7XG5cdFx0fVxuXHR9XG5cdHJldHVybiByZXN1bHQ7XG59OyIsImV4cG9ydCBpbnRlcmZhY2UgQ29tcG9uZW50UHJvcHMgZXh0ZW5kcyBQYXJ0aWFsPGFueT4ge1xuICBjaGlsZHJlbj86IENvbXBvbmVudFtdO1xufVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQ29tcG9uZW50IHtcbiAgcHJvdGVjdGVkIHByb3BzOiBhbnkgPSB7fTtcbiAgcHJpdmF0ZSBzdGF0ZTogYW55ID0ge307XG4gIHByaXZhdGUgb25DaGFuZ2U6ICgpID0+IHZvaWQgPSAoKSA9PiB7fTtcblxuICBjb25zdHJ1Y3Rvcihwcm9wcz86IGFueSkge1xuICAgIHRoaXMucHJvcHMgPSBwcm9wcztcbiAgICB0aGlzLnN0YXRlWydwcm9wcyddID0gcHJvcHM7XG5cbiAgICB0aGlzLmluaXQoKTtcbiAgfVxuXG4gIGluaXQoKTogdm9pZCB7fVxuXG4gIGFic3RyYWN0IGJ1aWxkKCk6IEhUTUxFbGVtZW50O1xuXG4gIHNldFN0YXRlKGtleTogc3RyaW5nLCB2YWx1ZTogYW55KTogYW55IHtcbiAgICB0aGlzLnN0YXRlID0geyAuLi50aGlzLnN0YXRlLCBba2V5XTogdmFsdWUgfTtcbiAgICB0aGlzLm9uQ2hhbmdlKCk7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGVba2V5XTtcbiAgfVxuXG4gIGdldFN0YXRlKGtleTogc3RyaW5nKTogYW55IHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZVtrZXldO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdvb24ge1xuICBjb21wb25lbnQ6IENvbXBvbmVudDtcbiAgZW50cnk6IEhUTUxFbGVtZW50O1xuICBtb3VudGVkRWxlbWVudDogSFRNTEVsZW1lbnQ7XG5cbiAgY29uc3RydWN0b3IoZW50cnk6IEhUTUxFbGVtZW50LCBjb21wb25lbnQ6IENvbXBvbmVudCkge1xuICAgIHRoaXMuZW50cnkgPSBlbnRyeTtcbiAgICB0aGlzLmNvbXBvbmVudCA9IGNvbXBvbmVudDtcblxuICAgIHRoaXMubW91bnRlZEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmVudHJ5LmFwcGVuZENoaWxkKHRoaXMubW91bnRlZEVsZW1lbnQpO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvbXBvbmVudCwgJ29uQ2hhbmdlJywge1xuICAgICAgdmFsdWU6ICgpID0+IHtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgIH0sXG4gICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyKCk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgd2hpbGUgKHRoaXMubW91bnRlZEVsZW1lbnQuZmlyc3RDaGlsZCkge1xuICAgICAgdGhpcy5tb3VudGVkRWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLm1vdW50ZWRFbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHRoaXMubW91bnRlZEVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5jb21wb25lbnQuYnVpbGQoKSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cblxuaW50ZXJmYWNlIENvbXBvbmVudEJ1aWxkZXJQcm9wcyB7XG4gIHRhZzogc3RyaW5nO1xuICBhdHRyaWJ1dGVzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9O1xuICBzdHlsZXM6IFBhcnRpYWw8Q1NTU3R5bGVEZWNsYXJhdGlvbj47XG4gIHRleHQ6IHN0cmluZztcbiAgY2hpbGRyZW46IChIVE1MRWxlbWVudCB8IENvbXBvbmVudClbXTtcbiAgZXZlbnRzOiB7IFtrZXk6IHN0cmluZ106IChldmVudDogRXZlbnQsIGVsZW1lbnQ6IEhUTUxFbGVtZW50KSA9PiB2b2lkIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB3KHsgdGFnLCBhdHRyaWJ1dGVzLCBzdHlsZXMsIHRleHQsIGNoaWxkcmVuLCBldmVudHMgfTogUGFydGlhbDxDb21wb25lbnRCdWlsZGVyUHJvcHM+KTogSFRNTEVsZW1lbnQge1xuICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO1xuXG4gIGlmICh0ZXh0ICE9IG51bGwpIHtcbiAgICBlbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRleHQpKTtcbiAgfVxuXG4gIGlmIChhdHRyaWJ1dGVzICE9IG51bGwpIHtcbiAgICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGtleSwgYXR0cmlidXRlc1trZXldKTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChzdHlsZXMgIT0gbnVsbCkge1xuICAgIE9iamVjdC5rZXlzKHN0eWxlcykuZm9yRWFjaCgoa2V5OiBhbnkpID0+IHtcbiAgICAgIGVsZW1lbnQuc3R5bGVba2V5XSA9IHN0eWxlc1trZXldO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKGNoaWxkcmVuICE9IG51bGwpIHtcbiAgICBjaGlsZHJlbi5mb3JFYWNoKChjaGlsZCkgPT4ge1xuICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChjaGlsZCk7XG4gICAgICB9IGVsc2UgaWYgKGNoaWxkIGluc3RhbmNlb2YgQ29tcG9uZW50KSB7XG4gICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoY2hpbGQuYnVpbGQoKSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBpZiAoZXZlbnRzICE9IG51bGwpIHtcbiAgICBPYmplY3Qua2V5cyhldmVudHMpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGtleSwgKGUpID0+IGV2ZW50c1trZXldKGUsIGVsZW1lbnQpKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBlbGVtZW50O1xufVxuXG4vLyBQcmVtYWRlIENvbXBvbmVudHNcbmludGVyZmFjZSBIZWFkaW5nQ29tcG9uZW50UHJvcHMgZXh0ZW5kcyBDb21wb25lbnRQcm9wcyB7XG4gIGxldmVsOiBudW1iZXI7XG4gIHRleHQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGNsYXNzIEhlYWRpbmcgZXh0ZW5kcyBDb21wb25lbnQge1xuICBwcm90ZWN0ZWQgcHJvcHM6IEhlYWRpbmdDb21wb25lbnRQcm9wcztcblxuICBjb25zdHJ1Y3Rvcihwcm9wczogSGVhZGluZ0NvbXBvbmVudFByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICB9XG5cbiAgYnVpbGQoKTogSFRNTEVsZW1lbnQge1xuICAgIHJldHVybiB3KHtcbiAgICAgIHRhZzogYGgke3RoaXMucHJvcHMubGV2ZWx9YCxcbiAgICAgIHRleHQ6IHRoaXMucHJvcHMudGV4dCxcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0ICcuL3N0eWxlLmNzcyc7XG5pbXBvcnQgV29vbiwgeyBDb21wb25lbnQsIHcgfSBmcm9tICcuL1dvb24nO1xuXG5jbGFzcyBIb21lUGFnZSBleHRlbmRzIENvbXBvbmVudCB7XG4gIGluaXQoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSgnd2hvJywgJ3dvcmxkJyk7XG4gIH1cblxuICBidWlsZCgpIHtcbiAgICByZXR1cm4gdyh7IHRhZzogJ2gxJywgdGV4dDogYEhlbGxvICR7dGhpcy5nZXRTdGF0ZSgnd2hvJyl9IWAgfSk7XG4gIH1cbn1cblxuY29uc3QgYXBwID0gbmV3IFdvb24oZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FwcCcpLCBuZXcgSG9tZVBhZ2UoKSk7XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbl9fd2VicGFja19yZXF1aXJlX18ubSA9IF9fd2VicGFja19tb2R1bGVzX187XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCIvLyBubyBiYXNlVVJJXG5cbi8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4vLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbi8vIFtyZXNvbHZlLCByZWplY3QsIFByb21pc2VdID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxudmFyIGluc3RhbGxlZENodW5rcyA9IHtcblx0XCJtYWluXCI6IDAsXG5cdFwic3R5bGVzXCI6IDBcbn07XG5cbi8vIG5vIGNodW5rIG9uIGRlbWFuZCBsb2FkaW5nXG5cbi8vIG5vIHByZWZldGNoaW5nXG5cbi8vIG5vIHByZWxvYWRlZFxuXG4vLyBubyBITVJcblxuLy8gbm8gSE1SIG1hbmlmZXN0XG5cbl9fd2VicGFja19yZXF1aXJlX18uTy5qID0gKGNodW5rSWQpID0+IChpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPT09IDApO1xuXG4vLyBpbnN0YWxsIGEgSlNPTlAgY2FsbGJhY2sgZm9yIGNodW5rIGxvYWRpbmdcbnZhciB3ZWJwYWNrSnNvbnBDYWxsYmFjayA9IChwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbiwgZGF0YSkgPT4ge1xuXHR2YXIgW2NodW5rSWRzLCBtb3JlTW9kdWxlcywgcnVudGltZV0gPSBkYXRhO1xuXHQvLyBhZGQgXCJtb3JlTW9kdWxlc1wiIHRvIHRoZSBtb2R1bGVzIG9iamVjdCxcblx0Ly8gdGhlbiBmbGFnIGFsbCBcImNodW5rSWRzXCIgYXMgbG9hZGVkIGFuZCBmaXJlIGNhbGxiYWNrXG5cdHZhciBtb2R1bGVJZCwgY2h1bmtJZCwgaSA9IDA7XG5cdGlmKGNodW5rSWRzLnNvbWUoKGlkKSA9PiAoaW5zdGFsbGVkQ2h1bmtzW2lkXSAhPT0gMCkpKSB7XG5cdFx0Zm9yKG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG5cdFx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8obW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xuXHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLm1bbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZihydW50aW1lKSB2YXIgcmVzdWx0ID0gcnVudGltZShfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblx0fVxuXHRpZihwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbikgcGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24oZGF0YSk7XG5cdGZvcig7aSA8IGNodW5rSWRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0Y2h1bmtJZCA9IGNodW5rSWRzW2ldO1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhpbnN0YWxsZWRDaHVua3MsIGNodW5rSWQpICYmIGluc3RhbGxlZENodW5rc1tjaHVua0lkXSkge1xuXHRcdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdWzBdKCk7XG5cdFx0fVxuXHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkc1tpXV0gPSAwO1xuXHR9XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLk8ocmVzdWx0KTtcbn1cblxudmFyIGNodW5rTG9hZGluZ0dsb2JhbCA9IHNlbGZbXCJ3ZWJwYWNrQ2h1bmt0eXBlc2NyaXB0X3dlYnBhY2tcIl0gPSBzZWxmW1wid2VicGFja0NodW5rdHlwZXNjcmlwdF93ZWJwYWNrXCJdIHx8IFtdO1xuY2h1bmtMb2FkaW5nR2xvYmFsLmZvckVhY2god2VicGFja0pzb25wQ2FsbGJhY2suYmluZChudWxsLCAwKSk7XG5jaHVua0xvYWRpbmdHbG9iYWwucHVzaCA9IHdlYnBhY2tKc29ucENhbGxiYWNrLmJpbmQobnVsbCwgY2h1bmtMb2FkaW5nR2xvYmFsLnB1c2guYmluZChjaHVua0xvYWRpbmdHbG9iYWwpKTsiLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8vIFRoaXMgZW50cnkgbW9kdWxlIGRlcGVuZHMgb24gb3RoZXIgbG9hZGVkIGNodW5rcyBhbmQgZXhlY3V0aW9uIG5lZWQgdG8gYmUgZGVsYXllZFxudmFyIF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fLk8odW5kZWZpbmVkLCBbXCJzdHlsZXNcIl0sICgpID0+IChfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9zcmMvaW5kZXgudHNcIikpKVxuX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18uTyhfX3dlYnBhY2tfZXhwb3J0c19fKTtcbiJdLCJuYW1lcyI6WyJkZWZlcnJlZCIsInByb3BzIiwic3RhdGUiLCJvbkNoYW5nZSIsInRoaXMiLCJpbml0Iiwic2V0U3RhdGUiLCJrZXkiLCJ2YWx1ZSIsImdldFN0YXRlIiwiZW50cnkiLCJjb21wb25lbnQiLCJtb3VudGVkRWxlbWVudCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZENoaWxkIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJyZW5kZXIiLCJ3cml0YWJsZSIsImZpcnN0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsImJ1aWxkIiwidyIsInRhZyIsImF0dHJpYnV0ZXMiLCJzdHlsZXMiLCJ0ZXh0IiwiY2hpbGRyZW4iLCJldmVudHMiLCJlbGVtZW50IiwiY3JlYXRlVGV4dE5vZGUiLCJrZXlzIiwiZm9yRWFjaCIsInNldEF0dHJpYnV0ZSIsInN0eWxlIiwiY2hpbGQiLCJIVE1MRWxlbWVudCIsIkNvbXBvbmVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwibGV2ZWwiLCJxdWVyeVNlbGVjdG9yIiwiSG9tZVBhZ2UiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsIm0iLCJPIiwicmVzdWx0IiwiY2h1bmtJZHMiLCJmbiIsInByaW9yaXR5Iiwibm90RnVsZmlsbGVkIiwiSW5maW5pdHkiLCJpIiwibGVuZ3RoIiwiZnVsZmlsbGVkIiwiaiIsImV2ZXJ5Iiwic3BsaWNlIiwiciIsImQiLCJkZWZpbml0aW9uIiwibyIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJpbnN0YWxsZWRDaHVua3MiLCJjaHVua0lkIiwid2VicGFja0pzb25wQ2FsbGJhY2siLCJwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbiIsImRhdGEiLCJtb3JlTW9kdWxlcyIsInJ1bnRpbWUiLCJzb21lIiwiaWQiLCJjaHVua0xvYWRpbmdHbG9iYWwiLCJzZWxmIiwiYmluZCIsInB1c2giLCJfX3dlYnBhY2tfZXhwb3J0c19fIl0sInNvdXJjZVJvb3QiOiIifQ==